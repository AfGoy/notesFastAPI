{% extends "base.html" %}

{% block title %}–ü–∞–ø–∫–∞: {{ folder.name }} - SecureNotes{% endblock %}
{% set active_page = 'folders' %}

{% block extra_css %}
<link rel="stylesheet" href="{{ config.url }}/static/css/folder.css">
{% endblock %}

{% block content %}
<div class="container">
    <div class="folder-header">
        <h2>–ü–∞–ø–∫–∞: {{ folder.name }}</h2>
        <div class="folder-actions">
            <button id="addNoteBtn" class="btn primary">‚ûï –î–æ–±–∞–≤–∏—Ç—å –∑–∞–º–µ—Ç–∫—É</button>
            <button id="bulkDeleteBtn" class="btn danger" disabled>üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–µ</button>
            <button id="bulkMoveBtn" class="btn secondary" disabled>üìÅ –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å</button>
        </div>
    </div>

    <div class="toolbar">
        <label class="checkbox-control">
            <input type="checkbox" id="selectAll">
            <span>–í—ã–±—Ä–∞—Ç—å –≤—Å–µ</span>
        </label>
    </div>

    <div class="notes-grid-container">
        <div class="notes-grid" id="notesGrid">
            {% for note in notes %}
                <div class="note-card" data-note-id="{{ note.id }}">
                    <div class="note-checkbox">
                        <input type="checkbox" class="note-select" value="{{ note.id }}">
                    </div>
                    <div class="note-content">
                        <h3>{{ note.name }}</h3>
                        <p class="note-date">–û–±–Ω–æ–≤–ª–µ–Ω–æ: {{ note.updated_at }}</p>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–º–µ—Ç–∫–∏ -->
<div id="noteModal" class="modal">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h2>–°–æ–∑–¥–∞—Ç—å –∑–∞–º–µ—Ç–∫—É</h2>
        <form id="noteForm">
            <label for="noteName">–ù–∞–∑–≤–∞–Ω–∏–µ:</label>
            <input type="text" id="noteName" name="name" required>

            <label for="noteText">–¢–µ–∫—Å—Ç:</label>
            <textarea id="noteText" name="text" rows="5" required></textarea>

            <label class="checkbox-public">
                <input type="checkbox" id="notePublic" name="is_public">
                <span>–ü—É–±–ª–∏—á–Ω–∞—è</span>
            </label>

            <button type="submit">–°–æ–∑–¥–∞—Ç—å –∑–∞–º–µ—Ç–∫—É</button>
        </form>
    </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{{ config.url }}/static/js/folder.js"></script>
{% endblock %}
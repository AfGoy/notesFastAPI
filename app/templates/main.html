{% extends "base.html" %}

{% block title %}SecureNotes - –ì–ª–∞–≤–Ω–∞—è{% endblock %}
{% set active_page = 'home' %}

{% block content %}

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ -->
<div id="createFolderModal" class="modal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <h2>–°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É</h2>
    <form id="createFolderForm">
      <label for="folderName">–ù–∞–∑–≤–∞–Ω–∏–µ –ø–∞–ø–∫–∏:</label>
      <input type="text" id="folderName" name="name" required>

      <label for="folderColor">–¶–≤–µ—Ç –ø–∞–ø–∫–∏:</label>
      <input type="color" id="folderColor" name="color" value="#3498db">

      <label>
        <input type="checkbox" id="publicCheckbox" name="public"> –ü—É–±–ª–∏—á–Ω–∞—è
      </label>

      <label>
        <input type="checkbox" id="passwordProtected" name="password_protected"> –ó–∞—â–∏—Ç–∏—Ç—å –ø–∞—Ä–æ–ª–µ–º
      </label>

      <div id="passwordField" style="display: none;">
        <label for="folderPassword">–ü–∞—Ä–æ–ª—å:</label>
        <input type="password" id="folderPassword" name="password">
      </div>

      <button type="submit">–°–æ–∑–¥–∞—Ç—å</button>
    </form>
  </div>
</div>


<section class="content-section">
    <div class="container">
        <div class="section-header">
            <h2>–ù–µ–¥–∞–≤–Ω–∏–µ –ø–∞–ø–∫–∏</h2>
            <div class="folder-controls">
                <button id="createFolderBtn" class="create-folder-btn">+</button>
                <div class="scroll-controls">
                    <button class="scroll-btn left-scroll" id="foldersScrollLeft">‚Üê</button>
                    <button class="scroll-btn right-scroll" id="foldersScrollRight">‚Üí</button>
                </div>
            </div>
        </div>
        <div class="horizontal-scroll-container">
            <div class="horizontal-scroll" id="foldersScroll">
                {% for folder in folders %}
                    <a class="folder-card" target="_blank" href="{{ config.url }}/folder/folder_page/{{folder.id}}" style="background-color: {{ folder.color | safe }}; position: relative;">
                        {% if folder.password_check %}
                            <div class="lock-icon">üîí</div>
                        {% endif %}
                        <div class="folder-icon">üìÅ</div>
                        <h3>{{ folder.name }}</h3>
                        <p>–û–±–Ω–æ–≤–ª–µ–Ω–æ: {{ folder.updated_at }}</p>
                    </a>
                {% endfor %}
            </div>
        </div>
    </div>
</section>

<section class="content-section">
    <div class="container">
        <div class="section-header">
            <h2>–ù–µ–¥–∞–≤–Ω–∏–µ –∑–∞–º–µ—Ç–∫–∏</h2>
            <div class="scroll-controls">
                <button class="scroll-btn left-scroll" id="notesScrollLeft">‚Üê</button>
                <button class="scroll-btn right-scroll" id="notesScrollRight">‚Üí</button>
            </div>
        </div>
        <div class="horizontal-scroll-container">
            <div class="horizontal-scroll" id="notesScroll">
                {% for note in notes %}
                    <div class="note-card">
                        <h3>{{ note.name }}</h3>
                        <p>–ü–æ—Å–ª–µ–¥–Ω–µ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ: {{ note.updated_at }}</p>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
</section>

<script src="{{ config.url }}/static/js/create_folder.js"></script>

{% endblock %}